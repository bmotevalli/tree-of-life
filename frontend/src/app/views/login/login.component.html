<div
  class="min-h-screen flex items-center justify-center bg-cover bg-center"
  style="background-image: url('/assets/tree_of_life.jpg')"
>
  <div class="bg-white/90 rounded-2xl shadow-xl w-full max-w-md p-8">
    <h2 class="text-2xl font-semibold text-center mb-6 font-yekan">ورود</h2>

    <form (ngSubmit)="onSubmit()">
      <div class="mb-4">
        <label class="block text-sm font-medium mb-1 font-yekan" for="email"
          >ایمیل</label
        >
        <input
          id="email"
          name="email"
          type="email"
          class="w-full px-4 py-2 border rounded-md text-left ltr"
          required
          [ngModel]="email()"
          (ngModelChange)="email.set($event)"
        />
      </div>

      <div class="mb-6">
        <div class="flex gap-2 items-center">
          <label
            class="block text-sm font-medium mb-1 font-yekan"
            for="password"
            >رمز عبور</label
          >
          <button
            mat-icon-button
            matSuffix
            (click)="hidePassword.set(!hidePassword())"
            [attr.aria-label]="'Toggle password visibility'"
            [attr.aria-pressed]="!hidePassword()"
            tabindex="-1"
            type="button"
          >
            <mat-icon>{{
              hidePassword() ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
        </div>

        <input
          id="password"
          name="password"
          [type]="hidePassword() ? 'password' : 'text'"
          class="w-full px-4 py-2 border rounded-md text-left ltr"
          required
          [ngModel]="password()"
          (ngModelChange)="password.set($event)"
        />
      </div>
      <button
        type="submit"
        [disabled]="!isFormValid() || loading()"
        class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 font-yekan flex justify-center items-center gap-2"
      >
        @if (loading()) {
        <mat-spinner
          diameter="20"
          mode="indeterminate"
          color="accent"
          [strokeWidth]="3"
        ></mat-spinner>
        } @else { ورود }
      </button>

      @if (error()) {
      <span class="text-red-500 block mt-2">{{ error() }}</span>
      }
    </form>
  </div>
</div>
